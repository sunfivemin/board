# âš¡ ê°œë°œ ë…¸íŠ¸ (Dev Note)

> ë§¤ì¼ë§¤ì¼ ìƒˆë¡­ê²Œ ë°°ìš´ ê¸°ìˆ ê³¼ ë©´ì ‘ ë…¸í•˜ìš°ë¥¼ ê¸°ë¡í•˜ëŠ” ê°œì¸ í•™ìŠµ ì‚¬ì´íŠ¸

![Node.js](https://img.shields.io/badge/Node.js-339933?style=flat-square&logo=node.js&logoColor=white)
![Express](https://img.shields.io/badge/Express-000000?style=flat-square&logo=express&logoColor=white)
![MongoDB](https://img.shields.io/badge/MongoDB-47A248?style=flat-square&logo=mongodb&logoColor=white)

[![Live Demo](https://img.shields.io/badge/Live-Demo-blue?style=for-the-badge)](https://board-fs9x.onrender.com)
[![GitHub](https://img.shields.io/badge/GitHub-Repository-black?style=for-the-badge&logo=github)](https://github.com/sunfivemin/board)

---

## ğŸ“– í”„ë¡œì íŠ¸ ì†Œê°œ

ë§¤ì¼ ìƒˆë¡­ê²Œ ë°°ìš°ëŠ” ê¸°ìˆ ê³¼ ë©´ì ‘ ì¤€ë¹„ ê³¼ì •ì„ ì²´ê³„ì ìœ¼ë¡œ ê¸°ë¡í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•´ ê°œë°œí•œ ê°œì¸ í•™ìŠµ ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend

- **Node.js** - JavaScript ëŸ°íƒ€ì„ í™˜ê²½
- **Express.js** - ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë ˆì„ì›Œí¬
- **MongoDB** - NoSQL ë°ì´í„°ë² ì´ìŠ¤
- **Mongoose** - MongoDB ODM
- **Passport.js** - ì‚¬ìš©ì ì¸ì¦ ë¯¸ë“¤ì›¨ì–´

### Frontend

- **EJS** - ì„œë²„ ì‚¬ì´ë“œ í…œí”Œë¦¿ ì—”ì§„
- **HTML5/CSS3** - ë§ˆí¬ì—… ë° ìŠ¤íƒ€ì¼ë§
- **JavaScript (ES6+)** - í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¡œì§

### ë°°í¬ & í´ë¼ìš°ë“œ

- **Render** - ì›¹ ì„œë¹„ìŠ¤ ë°°í¬
- **MongoDB Atlas** - í´ë¼ìš°ë“œ ë°ì´í„°ë² ì´ìŠ¤
- **AWS S3** - ì´ë¯¸ì§€ íŒŒì¼ ì €ì¥

---

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### ğŸ“ ê²Œì‹œê¸€ ê´€ë¦¬

- **CRUD ê¸°ëŠ¥**: ê²Œì‹œê¸€ ìƒì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ
- **ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜**: ê¸°ìˆ ìŠ¤íƒ, ë©´ì ‘ì¤€ë¹„, í•™ìŠµì¼ì§€ë¡œ ì²´ê³„ì  ë¶„ë¥˜
- **ì´ë¯¸ì§€ ì—…ë¡œë“œ**: AWS S3ë¥¼ í†µí•œ ì•ˆì •ì ì¸ ì´ë¯¸ì§€ ì €ì¥
- **ê²€ìƒ‰ ê¸°ëŠ¥**: ì œëª©, ë‚´ìš©, ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ í†µí•© ê²€ìƒ‰

### ğŸ” ì‚¬ìš©ì ì¸ì¦

- **íšŒì›ê°€ì…/ë¡œê·¸ì¸**: Passport.js ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ
- **ì„¸ì…˜ ê´€ë¦¬**: ì•ˆì „í•œ ì„¸ì…˜ ê¸°ë°˜ ë¡œê·¸ì¸ ìœ ì§€
- **ê¶Œí•œ ê´€ë¦¬**: ë³¸ì¸ ê¸€ë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥

### ğŸ“Š í•™ìŠµ ì¶”ì 

- **í•™ìŠµ í†µê³„**: ì‘ì„±í•œ ê¸€ ìˆ˜, ì¹´í…Œê³ ë¦¬ë³„ ë¶„í¬
- **ì‹¤ì‹œê°„ ì¹´ìš´í„°**: ë©”ì¸ í˜ì´ì§€ì—ì„œ í•™ìŠµ ê¸°ë¡ ìˆ˜ í‘œì‹œ
- **ì¹´í…Œê³ ë¦¬ë³„ ë¶„ë¥˜**: ì²´ê³„ì ì¸ í•™ìŠµ ë‚´ìš© ê´€ë¦¬

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ğŸ“¦ forum/
â”œâ”€â”€ ğŸ“‚ config/          # ì„¤ì • íŒŒì¼
â”‚   â””â”€â”€ passport.js     # Passport.js ì¸ì¦ ì„¤ì •
â”œâ”€â”€ ğŸ“‚ db/              # ë°ì´í„°ë² ì´ìŠ¤
â”‚   â””â”€â”€ database.js     # MongoDB ì—°ê²° ì„¤ì •
â”œâ”€â”€ ğŸ“‚ middleware/      # ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ auth.js         # ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚   â””â”€â”€ upload.js       # íŒŒì¼ ì—…ë¡œë“œ ì„¤ì • (S3/ë¡œì»¬)
â”œâ”€â”€ ğŸ“‚ routes/          # Express ë¼ìš°íŒ…
â”‚   â”œâ”€â”€ auth.js         # ì¸ì¦ ê´€ë ¨ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ index.js        # ë©”ì¸ í˜ì´ì§€ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ new.js          # ê²Œì‹œíŒ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ post.js         # ë©”ì¸ ê²Œì‹œíŒ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ search.js       # ê²€ìƒ‰ ë¼ìš°íŠ¸
â”‚   â””â”€â”€ user.js         # ì‚¬ìš©ì ê´€ë ¨ ë¼ìš°íŠ¸
â”œâ”€â”€ ğŸ“‚ views/           # EJS í…œí”Œë¦¿
â”‚   â”œâ”€â”€ list/           # ë©”ì¸ í˜ì´ì§€ í…œí”Œë¦¿
â”‚   â”‚   â””â”€â”€ list.ejs    # íˆì–´ë¡œ ì„¹ì…˜ í¬í•¨ ë©”ì¸
â”‚   â”œâ”€â”€ posts/          # ê²Œì‹œê¸€ ê´€ë ¨ í…œí”Œë¦¿
â”‚   â”‚   â”œâ”€â”€ detail.ejs  # ê²Œì‹œê¸€ ìƒì„¸
â”‚   â”‚   â”œâ”€â”€ edit.ejs    # ê²Œì‹œê¸€ ìˆ˜ì •
â”‚   â”‚   â”œâ”€â”€ new-write.ejs # ê¸€ ì‘ì„±
â”‚   â”‚   â””â”€â”€ new.ejs     # ê²Œì‹œíŒ ëª©ë¡
â”‚   â”œâ”€â”€ auth/           # ì¸ì¦ ê´€ë ¨ í…œí”Œë¦¿
â”‚   â”‚   â”œâ”€â”€ login.ejs   # ë¡œê·¸ì¸
â”‚   â”‚   â””â”€â”€ signup.ejs  # íšŒì›ê°€ì…
â”‚   â”œâ”€â”€ partials/       # ê³µí†µ í…œí”Œë¦¿
â”‚   â”‚   â”œâ”€â”€ head.ejs    # HTML head
â”‚   â”‚   â”œâ”€â”€ nav.ejs     # ë„¤ë¹„ê²Œì´ì…˜
â”‚   â”‚   â””â”€â”€ modal.ejs   # ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ search.ejs      # ê²€ìƒ‰ ê²°ê³¼
â”‚   â”œâ”€â”€ time.ejs        # ì‹œê°„ ê´€ë ¨ í˜ì´ì§€
â”‚   â””â”€â”€ 404.ejs         # 404 ì—ëŸ¬ í˜ì´ì§€
â”œâ”€â”€ ğŸ“‚ public/          # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ css/           # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚   â”‚   â”œâ”€â”€ main.css   # ë©”ì¸ ìŠ¤íƒ€ì¼
â”‚   â”‚   â”œâ”€â”€ modal.css  # ëª¨ë‹¬ ìŠ¤íƒ€ì¼
â”‚   â”‚   â””â”€â”€ timer.css  # íƒ€ì´ë¨¸ ìŠ¤íƒ€ì¼
â”‚   â”œâ”€â”€ js/            # í´ë¼ì´ì–¸íŠ¸ JavaScript
â”‚   â”‚   â”œâ”€â”€ modal.js   # ëª¨ë‹¬ ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ nav.js     # ë„¤ë¹„ê²Œì´ì…˜ ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ search.js  # ê²€ìƒ‰ ê¸°ëŠ¥
â”‚   â”‚   â””â”€â”€ timer.js   # íƒ€ì´ë¨¸ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ images/        # ì´ë¯¸ì§€ íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ favicon.ico # íŒŒë¹„ì½˜
â”‚   â”‚   â”œâ”€â”€ site.webmanifest # PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚   â”‚   â””â”€â”€ ...        # ê¸°íƒ€ ì´ë¯¸ì§€ë“¤
â”‚   â””â”€â”€ uploads/       # ë¡œì»¬ ì—…ë¡œë“œ íŒŒì¼ (ê°œë°œìš©)
â”œâ”€â”€ ğŸ“„ server.js       # ë©”ì¸ ì„œë²„ íŒŒì¼
â”œâ”€â”€ ğŸ“„ package.json    # ì˜ì¡´ì„± ê´€ë¦¬
â”œâ”€â”€ ğŸ“„ render.yaml     # Render ë°°í¬ ì„¤ì •
â””â”€â”€ ğŸ“„ vercel.json     # Vercel ë°°í¬ ì„¤ì •
```

---

## âš™ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js (v14 ì´ìƒ)
- MongoDB (ë¡œì»¬ ë˜ëŠ” MongoDB Atlas)
- Git

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/sunfivemin/board.git
cd board
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env íŒŒì¼ ìƒì„±
touch .env

# í™˜ê²½ ë³€ìˆ˜ í¸ì§‘
DB_URL=mongodb://localhost:27017/forum
SESSION_SECRET=your-session-secret
NODE_ENV=development
```

**ë°°í¬í•  ë•ŒëŠ” Render ëŒ€ì‹œë³´ë“œì—ì„œ í™˜ê²½ë³€ìˆ˜ ì„¤ì •**

### 4. MongoDB ì‹¤í–‰

```bash
# ë¡œì»¬ MongoDB ì‚¬ìš©í•˜ëŠ” ê²½ìš°
mongod
```

**MongoDB Atlas ì‚¬ìš©í•˜ë©´ ë³„ë„ ì„¤ì • ë¶ˆí•„ìš”**

### 5. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰

```bash
npm start
```

### 6. ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸

```
http://localhost:8080
```

---

## ğŸ”§ ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦ API

```javascript
// íšŒì›ê°€ì…
POST /auth/signup
{
  "username": "ì‚¬ìš©ìëª…",
  "password": "ë¹„ë°€ë²ˆí˜¸"
}

// ë¡œê·¸ì¸
POST /auth/login
{
  "username": "ì‚¬ìš©ìëª…",
  "password": "ë¹„ë°€ë²ˆí˜¸"
}

// ë¡œê·¸ì•„ì›ƒ
GET /auth/logout
```

### ê²Œì‹œê¸€ API

```javascript
// ë©”ì¸ í˜ì´ì§€ (íˆì–´ë¡œ ì„¹ì…˜)
GET /

// ê²Œì‹œíŒ ëª©ë¡
GET /new

// ê²Œì‹œê¸€ ìƒì„¸
GET /new/:id

// ê¸€ ì‘ì„± í˜ì´ì§€
GET /new/write

// ê¸€ ì‘ì„±
POST /new/add
{
  "title": "ì œëª©",
  "content": "ë‚´ìš©",
  "category": "ê¸°ìˆ ìŠ¤íƒ|ë©´ì ‘ì¤€ë¹„|í•™ìŠµì¼ì§€",
  "image": "íŒŒì¼"
}

// ê¸€ ìˆ˜ì •
POST /new/edit/:id

// ê¸€ ì‚­ì œ
DELETE /new/:id
```

### ê²€ìƒ‰ API

```javascript
// í†µí•© ê²€ìƒ‰
GET /search?keyword=ê²€ìƒ‰ì–´
```

---

## ğŸ¯ ì£¼ìš” í•™ìŠµ í¬ì¸íŠ¸

### 1. í’€ìŠ¤íƒ ê°œë°œ ê²½í—˜

- **Backend**: Node.js + Expressë¡œ RESTful API ì„¤ê³„ ë° êµ¬í˜„
- **Database**: MongoDBë¥¼ í™œìš©í•œ NoSQL ë°ì´í„° ëª¨ë¸ë§
- **Frontend**: EJS í…œí”Œë¦¿ ì—”ì§„ìœ¼ë¡œ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ êµ¬í˜„

### 2. ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ

```javascript
// Passport.jsë¥¼ í™œìš©í•œ ë¡œì»¬ ì¸ì¦ ì „ëµ
passport.use(
  new LocalStrategy(async (username, password, done) => {
    try {
      const user = await User.findOne({ username });
      if (!user) return done(null, false);

      const isMatch = await bcrypt.compare(password, user.password);
      if (!isMatch) return done(null, false);

      return done(null, user);
    } catch (err) {
      return done(err);
    }
  })
);
```

### 3. íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ

```javascript
// AWS S3ì™€ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì¡°ê±´ë¶€ ì‚¬ìš©
const storage =
  isProduction && hasS3Credentials
    ? multerS3({
        s3: s3Client,
        bucket: "seonohforum",
        acl: "public-read",
        key: (req, file, cb) => {
          cb(
            null,
            Date.now() +
              "-" +
              Math.round(Math.random() * 1e9) +
              path.extname(file.originalname)
          );
        },
      })
    : multer.diskStorage({
        destination: "./public/uploads/",
        filename: (req, file, cb) => {
          cb(
            null,
            Date.now() +
              "-" +
              Math.round(Math.random() * 1e9) +
              path.extname(file.originalname)
          );
        },
      });
```

---

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 1. MongoDB ì—°ê²° ì´ìŠˆ

**ë¬¸ì œ**: MongoDB Atlas ì—°ê²° ì‹œ ë„¤íŠ¸ì›Œí¬ íƒ€ì„ì•„ì›ƒ ë°œìƒ

```javascript
// í•´ê²°ì±…: ì—°ê²° ì˜µì…˜ ìµœì í™”
mongoose.connect(DB_URL, {
  useNewUrlParser: true,
  useUnifiedTopology: true,
  serverSelectionTimeoutMS: 5000,
});
```

### 2. AWS S3 ì´ë¯¸ì§€ ì—…ë¡œë“œ ì´ìŠˆ

**ë¬¸ì œ**: `AccessControlListNotSupported` ì—ëŸ¬

```javascript
// í•´ê²°ì±…: S3 ë²„í‚· ì„¤ì •ì—ì„œ ACL í™œì„±í™”
// AWS S3 ì½˜ì†” â†’ ë²„í‚· â†’ ê¶Œí•œ â†’ ê°ì²´ ì†Œìœ ê¶Œ â†’ ACL í™œì„±í™”
```

### 3. Render ë°°í¬ ì‹œ ì„¸ì…˜ ì´ìŠˆ

**ë¬¸ì œ**: ë¡œì»¬ì—ì„œëŠ” ì •ìƒ ì‘ë™í•˜ì§€ë§Œ ë°°í¬ í›„ ë¡œê·¸ì¸ ì‹¤íŒ¨

```javascript
// í•´ê²°ì±…: Render ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ í™˜ê²½ì— ë§ëŠ” ì„¸ì…˜ ì„¤ì •
app.use(
  session({
    secret: process.env.SESSION_SECRET,
    resave: false,
    saveUninitialized: false,
    cookie: {
      secure: false, // Render ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ í™˜ê²½ì—ì„œëŠ” false í•„ìš”
      httpOnly: true,
      sameSite: "lax",
    },
  })
);
```

### 4. ë¼ìš°íŒ… ì¶©ëŒ ì´ìŠˆ

**ë¬¸ì œ**: `/new`ì™€ `/post` ë¼ìš°íŠ¸ ê°„ ì¶©ëŒ

```javascript
// í•´ê²°ì±…: ë¼ìš°íŠ¸ ìˆœì„œì™€ ì „ìš© ë¼ìš°í„° íŒŒì¼ ë¶„ë¦¬
app.use("/new", require("./routes/new")); // ë” êµ¬ì²´ì ì¸ ë¼ìš°íŠ¸ë¥¼ ë¨¼ì €
app.use("/post", require("./routes/post"));
```

---

## ğŸ“ ì—°ë½ì²˜

ê¶ê¸ˆí•œ ì ì´ë‚˜ ê°œì„  ì œì•ˆì´ ìˆìœ¼ë©´ ì–¸ì œë“  ì—°ë½ì£¼ì„¸ìš”!

- ğŸ“§ **Email**: [sunfivemin@gmail.com](mailto:sunfivemin@gmail.com)
- ğŸ± **GitHub**: [@sunfivemin](https://github.com/sunfivemin)

---

## ğŸ“ˆ ì•ìœ¼ë¡œ ì¶”ê°€í•˜ê³  ì‹¶ì€ ê¸°ëŠ¥ë“¤

- [ ] **ë§ˆí¬ë‹¤ìš´ ì—ë””í„°** - ê¸€ ì‘ì„±í•  ë•Œ ë§ˆí¬ë‹¤ìš´ ì§€ì›
- [ ] **ëŒ“ê¸€ ì‹œìŠ¤í…œ** - ê²Œì‹œê¸€ë³„ë¡œ ëŒ“ê¸€ ë‹¬ ìˆ˜ ìˆê²Œ
- [ ] **íƒœê·¸ ê¸°ëŠ¥** - ì¹´í…Œê³ ë¦¬ë³´ë‹¤ ë” ì„¸ë¶„í™”ëœ ë¶„ë¥˜

---

<div align="center">

**âš¡ ë§¤ì¼ ì„±ì¥í•˜ëŠ” ê°œë°œì ë˜ê¸° âš¡**

[![GitHub stars](https://img.shields.io/github/stars/sunfivemin/board?style=social)](https://github.com/sunfivemin/board/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/sunfivemin/board?style=social)](https://github.com/sunfivemin/board/network)

</div>
